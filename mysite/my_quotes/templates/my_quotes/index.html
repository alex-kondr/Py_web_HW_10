{% extends "my_quotes/base.html" %} {% block content %}

<div class="row">
  {% for quote in quotes %}
  <div class="col-sm-4 mb-3 mb-sm-10">
    <div class="card text-bg-primary mb-3">
      <div class="card-body">
        <h5 class="card-title">{{quote.quote}}</h5>
        <p class="card-text">
          <span>
            Quote â„– {{quote.id}} by {{quote.author.fullname}}
            <a
              href="{% url 'my_quotes:author' quote.author.fullname %}"
              style="color: #bff1a9">
              (about)
            </a>
          </span>
        </p>
        <span>
          <strong>Tags:</strong>
          {% for tag in quote.tags %}
          <a href="{% url 'my_quotes:tag' tag %}" class="btn btn-warning btn-sm">
            {{tag}}
          </a>
          {% endfor %}
        </span>
      </div>
      <div>
        {% if  user.is_superuser or user.id == quote.user_id and user.is_authenticated %}
          <center>
            <a href="{% url 'my_quotes:edit_quote' quote.id %}" class="btn btn-light">Edit</a>
            <a href="{% url 'my_quotes:delete_quote' quote.id %}" class="btn btn-light">Delete</a>
          </center>
        {% endif %}
      </div>
    </div>
  </div>
  {% endfor %}
</div>


{% if not tag %}

<div>
  <nav aria-label="Page navigation example">
    <ul class="pagination justify-content-center">
      {% if 1 not in pages %}
      <li class="page-item">{% else %}</li>

      <li class="page-item disabled">
        {% endif %}
        <a
          class="page-link"
          href="{% url 'my_quotes:next_page' previous_page %}">
          Previous
        </a>
      </li>
      {% for i in pages %} {% if i <= count %}
      <li class="page-item">
        <a class="page-link" href="{% url 'my_quotes:next_page' i %}">{{i}}</a>
      </li>
      {% endif %} {% endfor %} {% if next_page <= count %}
      <li class="page-item">{% else %}</li>

      <li class="page-item disabled">
        {% endif %}
        <a class="page-link" href="{% url 'my_quotes:next_page' next_page %}">
          Next
        </a>
      </li>
    </ul>
  </nav>
</div>

{% endif %}

{% endblock %}
